1. Вывели логи в течение 1.5 сек после последней загрузки:
journalctl -b -q -U "2025-03-12 20:03:56.5"

2. Нашли файл auth.log
find / -type f -name "auth.log" 2>/dev/null
/var/log/auth.log

Вывели отформатированные и отсортированные по источнику логи, выводится источник без идентификатора процессса и сообщение целиком:
awk '{for(i=3;i<=NF;i++){printf $i " "} print endl}' /var/log/auth.log | sed -E 's/\[[0-9]+\]//g' | sort -k1,1 -s

Вывод (часть):
chage: changed password expiry for user2
chage: changed password expiry for user3
CRON: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)
CRON: pam_unix(cron:session): session closed for user root
CRON: pam_unix(cron:session): session opened for user root(uid=0) by root(uid=0)

3. Вывели данные о количестве повтороений от каждого источника (тут 2 регулярных выражения для того, чтобы исключить двоеточие из источника,
где нет идентификатора):
awk '{gsub(/\[[0-9]+\]:/, "", $3); gsub(/:/, "", $3) count[$3]++} END {for(src in count) print count[src], src}' /var/log/auth.log | sort -nr

Результат:
394 CRON
67 sshd
31 systemd-logind
26 sudo
10 (systemd)
3 usermod
3 (sd-pam)
3 nologin
3 chage
2 passwd

4.
Создали файл, куда записали данные о пользователях c nologin:
awk -F ':' '$7 ~ /nologin/{print $3, $1}' /etc/passwd > nologin_users.txt

Формат:
1 daemon
2 bin
3 sys
5 games
6 man


Создали файл, куда записали список групп и пользователей:
awk -F '[,:]' '{printf("%s ", $1); for(i=4;i<=NF;i++) printf("%s ", $i); print endl}' /etc/group > users_groups.txt

Формат:
practice2 user1 user2 user3

"Переворачиваем" файл с группами, чтобы получилось:
user group1 group2

awk '{for(i=2; i<=NF; i++) print $i, $1}' users_groups.txt | sort -k1,1 > formatted_groups.txt

Напишем команду для получения необходимого нам результата. Для этого будем работать с 2 файлами, заполним массив с пользователями и их группами
после чего выводим данные из nologin_users, и добавляем группы, если они есть

awk 'NR==FNR{for(i=2;i<=NF;i++)g[$1]=(g[$1]?g[$1]" "$i:$i);next}{print $1,$2":",g[$2]?g[$2]:""}' formatted_groups.txt nologin_users.txt | sort -k1,1nr

Результат (фрагмент):
1003 user3: practice2
998 systemd-network:
997 systemd-timesync:

5.
dmesg | grep 'kernel'

Результат:
[    0.041748] Booting paravirtualized kernel on KVM
[    0.042668] Unknown kernel command line parameters "BOOT_IMAGE=/vmlinuz-6.8.0-55-generic", will be passed to user space.
[    0.092183] Memory: 3933488K/4193760K available (22528K kernel code, 4443K rwdata, 14344K rodata, 4988K init, 4716K bss, 260012K reserved, 0K cma-reserved)
[    0.531385] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    0.730563] Loaded X.509 cert 'Build time autogenerated kernel key: e0bedf6fa049a1e09bd65ebab3904f14cdd5bc68'
[    0.751687] Freeing unused kernel image (initmem) memory: 4988K
[    0.752360] Write protecting the kernel read-only data: 38912k
[    0.753957] Freeing unused kernel image (rodata/data gap) memory: 2040K
[    4.785803] systemd[1]: Listening on systemd-udevd-kernel.socket - udev Kernel Socket.
[    4.794915] systemd[1]: Mounting sys-kernel-debug.mount - Kernel Debug File System...
[    4.799816] systemd[1]: Mounting sys-kernel-tracing.mount - Kernel Trace File System...

6.
awk '{i++} END {print i}' /var/log/kern.log

Результат: 33

7. Находим строки которые начинаются на Coomandline: и т.п, значение записываем в переменную, после чего выводим в нужном нам формате.
awk -F': ' '/^Commandline:/ {cmd=$2} /^Start-Date:/ {start=$2} /^End-Date:/ {print "Commandline: " cmd " ; Start-Date: " start " ; End-Date: " $2}'
/var/log/apt/history.log

Результат (фрагмент):
Commandline: /usr/bin/unattended-upgrades -v ; Start-Date: 2025-03-12  18:13:21 ; End-Date: 2025-03-12  18:14:11
Commandline: apt dist-upgrade ; Start-Date: 2025-03-12  18:19:08 ; End-Date: 2025-03-12  18:21:04
Commandline: apt install vim qemu-guest-agent ; Start-Date: 2025-03-12  18:21:23 ; End-Date: 2025-03-12  18:21:31
Commandline: apt install -y bzip2 ; Start-Date: 2025-03-16  20:07:03 ; End-Date: 2025-03-16  20:07:11

